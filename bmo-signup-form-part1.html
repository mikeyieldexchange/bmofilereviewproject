<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BMO Yield Exchange • Comprehensive Signup Wizard</title>
  <style>
    :root {
      --bg: #0b1020;
      --panel: #0f162d;
      --muted: #8b97b4;
      --text: #e9eefc;
      --accent: #0079c1; /* BMO Blue */
      --accent-2: #22c55e;
      --danger: #ef4444;
      --warning: #f59e0b;
      --radius: 16px;
      --shadow: 0 10px 30px rgba(0,0,0,.25);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1000px 800px at 85% -10%, #1a2650 0%, var(--bg) 60%);
      color: var(--text);
    }

    .container {
      max-width: 1100px;
      margin: 40px auto;
      padding: 0 16px;
    }

    .header {
      display: flex; align-items: center; justify-content: space-between;
      gap: 16px; margin-bottom: 22px;
    }
    .brand { display: flex; align-items: center; gap: 12px; }
    .logo { width: 40px; height: 40px; border-radius: 10px; background: linear-gradient(135deg, var(--accent), #6aa2ff); box-shadow: var(--shadow); }
    .title { font-size: 1.25rem; font-weight: 700; letter-spacing: .3px; }
    .subtitle { color: var(--muted); font-size: .95rem; }

    .shell {
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.07);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    /* Breadcrumbs */
    .breadcrumbs {
      display: grid; grid-template-columns: repeat(5, 1fr);
      gap: 0; overflow: hidden; border-bottom: 1px solid rgba(255,255,255,.07);
    }
    .crumb {
      position: relative;
      padding: 14px 18px 14px 48px;
      background: rgba(255,255,255,.02);
      color: var(--muted);
      font-weight: 600; font-size: .9rem; letter-spacing: .2px;
    }
    .crumb.active { color: var(--text); background: rgba(0,121,193,.12); }
    .crumb::before {
      content: attr(data-step);
      position: absolute; left: 14px; top: 50%; transform: translateY(-50%);
      width: 24px; height: 24px; display: grid; place-items: center;
      border-radius: 999px; background: rgba(255,255,255,.08); color: var(--text);
      font-size: .75rem; font-weight: 700;
    }

    /* Panels */
    .panel { padding: 24px; display: none; }
    .panel.active { display: block; animation: fade .28s ease; }
    @keyframes fade { from { opacity: 0; transform: translateY(6px);} to { opacity: 1; transform: none;} }

    .grid {
      display: grid; gap: 16px; grid-template-columns: repeat(12, 1fr);
    }
    .col-3 { grid-column: span 3; }
    .col-4 { grid-column: span 4; }
    .col-6 { grid-column: span 6; }
    .col-8 { grid-column: span 8; }
    .col-12 { grid-column: span 12; }
    @media (max-width: 800px) { 
      .col-3, .col-4, .col-6, .col-8 { grid-column: span 12; } 
    }

    .card {
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.06);
      border-radius: calc(var(--radius) - 6px);
      padding: 18px; box-shadow: inset 0 1px 0 rgba(255,255,255,.04);
    }

    label { display:block; font-size:.9rem; color: var(--muted); margin-bottom: 6px; }
    input[type="text"], input[type="email"], input[type="tel"], input[type="date"], select, textarea {
      width: 100%; padding: 12px 14px; border-radius: 12px;
      border: 1px solid rgba(255,255,255,.1);
      background: rgba(12,18,40,.6); color: var(--text);
      outline: none; transition: border .15s ease, box-shadow .15s ease;
    }
    input:focus, select:focus, textarea:focus { border-color: var(--accent); box-shadow: 0 0 0 3px rgba(0,121,193,.2); }

    .muted { color: var(--muted); font-size: .9rem; }
    .hint { color: #b9c7ff; font-size: .85rem; }

    .controls { display: flex; justify-content: space-between; align-items: center; gap: 12px; margin-top: 18px; }
    .btn {
      padding: 12px 16px; border: 1px solid transparent; border-radius: 12px; cursor: pointer; font-weight: 700;
      background: var(--accent); color: white; box-shadow: var(--shadow);
    }
    .btn.secondary { background: rgba(255,255,255,.06); border-color: rgba(255,255,255,.1); color: var(--text); }
    .btn.ghost { background: transparent; border-color: rgba(255,255,255,.2); color: var(--text); }
    .btn:disabled { opacity: .5; cursor: not-allowed; }

    .inline { display:flex; gap:12px; align-items:center; flex-wrap: wrap; }
    .chip { padding:6px 10px; border-radius:999px; background: rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.1); font-size:.8rem; }

    .radio-card { display:flex; gap:12px; align-items:flex-start; padding:14px; border-radius:14px; border:1px solid rgba(255,255,255,.1); background: rgba(255,255,255,.03); cursor:pointer; }
    .radio-card:hover { border-color: rgba(0,121,193,.6); }

    .status {
      display:flex; align-items:center; gap:8px; font-size:.9rem; margin-top:8px; color: var(--muted);
    }
    .status.ok { color: var(--accent-2); }
    .status.warn { color: var(--warning); }

    .summary {
      background: rgba(34,197,94,.08);
      border: 1px solid rgba(34,197,94,.25);
    }
    .error { color: var(--danger); font-weight: 600; margin-top: 8px; display:none; }

    .footnote { margin-top: 8px; font-size: .8rem; color: var(--muted); }
    .divider { height:1px; background: rgba(255,255,255,.06); margin: 12px 0; }

    .tooltip { border-bottom:1px dashed rgba(255,255,255,.5); cursor: help; }
    
    /* Document preview */
    .doc-preview {
      border: 1px solid rgba(255,255,255,.1);
      border-radius: 8px;
      padding: 10px;
      background: rgba(255,255,255,.03);
      margin-bottom: 12px;
    }
    .doc-preview img {
      width: 100%;
      height: auto;
      border-radius: 4px;
    }
    .doc-title {
      font-size: 0.9rem;
      font-weight: 600;
      margin-top: 8px;
    }
    
    /* Required field indicator */
    .required::after {
      content: "*";
      color: var(--danger);
      margin-left: 4px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <div class="title">BMO Yield Exchange — Comprehensive Signup</div>
          <div class="subtitle">Complete onboarding process with all required compliance documents</div>
        </div>
      </div>
      <div class="inline">
        <span class="chip">SOC 2 Type II compliant</span>
        <span class="chip">OWASP‑guided</span>
        <span class="chip">Audit‑friendly</span>
      </div>
    </div>

    <div class="shell" role="region" aria-label="Signup Wizard">
      <!-- Breadcrumbs -->
      <div class="breadcrumbs" id="breadcrumbs">
        <div class="crumb active" data-step="1">Account Basics</div>
        <div class="crumb" data-step="2">Jurisdiction</div>
        <div class="crumb" data-step="3">Compliance Forms</div>
        <div class="crumb" data-step="4">eDelivery Access</div>
        <div class="crumb" data-step="5">Review & Consent</div>
      </div>

      <!-- Panels -->
      <form id="wizard" novalidate>
        <!-- STEP 1: Basics -->
        <section class="panel active" data-panel="1">
          <div class="grid">
            <div class="col-12">
              <div class="card">
                <h2 style="margin:0 0 8px 0;">Account Basics</h2>
                <p class="muted" style="margin:0">Tell us about your organization and key contact information to begin the signup process.</p>
              </div>
            </div>

            <div class="col-6">
              <div class="card">
                <label for="entityName" class="required">Legal Entity Name</label>
                <input id="entityName" name="entityName" type="text" required placeholder="e.g., Northern Trust of Canada Limited" />
                <div class="error" data-error-for="entityName">Please enter your legal entity name.</div>
              </div>
            </div>

            <div class="col-6">
              <div class="card">
                <label for="tradeName">Trade / Operating Name (optional)</label>
                <input id="tradeName" name="tradeName" type="text" placeholder="If different from legal entity" />
              </div>
            </div>

            <div class="col-6">
              <div class="card">
                <label for="entityType" class="required">Entity Type</label>
                <select id="entityType" name="entityType" required>
                  <option value="">Select...</option>
                  <option value="corporation">Corporation</option>
                  <option value="partnership">Partnership</option>
                  <option value="llc">Limited Liability Company</option>
                  <option value="trust">Trust</option>
                  <option value="soleProprietor">Sole Proprietorship</option>
                  <option value="nonprofit">Non-Profit Organization</option>
                  <option value="government">Government Entity</option>
                  <option value="other">Other</option>
                </select>
                <div class="error" data-error-for="entityType">Please select an entity type.</div>
              </div>
            </div>

            <div class="col-6">
              <div class="card">
                <label for="incorporationDate" class="required">Date of Incorporation/Formation</label>
                <input id="incorporationDate" name="incorporationDate" type="date" required />
                <div class="error" data-error-for="incorporationDate">Please enter the date of incorporation.</div>
              </div>
            </div>

            <div class="col-12">
              <div class="card">
                <h3 style="margin-top:0; margin-bottom:12px;">Primary Contact Information</h3>
                <div class="grid">
                  <div class="col-6">
                    <label for="contactFirstName" class="required">First Name</label>
                    <input id="contactFirstName" name="contactFirstName" type="text" required placeholder="First name" />
                    <div class="error" data-error-for="contactFirstName">Please enter a first name.</div>
                  </div>
                  
                  <div class="col-6">
                    <label for="contactLastName" class="required">Last Name</label>
                    <input id="contactLastName" name="contactLastName" type="text" required placeholder="Last name" />
                    <div class="error" data-error-for="contactLastName">Please enter a last name.</div>
                  </div>
                  
                  <div class="col-6">
                    <label for="contactTitle" class="required">Job Title</label>
                    <input id="contactTitle" name="contactTitle" type="text" required placeholder="e.g., Chief Financial Officer" />
                    <div class="error" data-error-for="contactTitle">Please enter a job title.</div>
                  </div>
                  
                  <div class="col-6">
                    <label for="contactEmail" class="required">Work Email</label>
                    <input id="contactEmail" name="contactEmail" type="email" required placeholder="name@organization.com" />
                    <div class="error" data-error-for="contactEmail">Enter a valid email address.</div>
                  </div>
                  
                  <div class="col-6">
                    <label for="contactPhone" class="required">Telephone</label>
                    <input id="contactPhone" name="contactPhone" type="tel" required placeholder="+1 416 555 0123" />
                    <div class="error" data-error-for="contactPhone">Please enter a valid phone number.</div>
                  </div>
                  
                  <div class="col-6">
                    <label for="language">Language Preference</label>
                    <select id="language" name="language">
                      <option value="en">English</option>
                      <option value="fr">French</option>
                    </select>
                    <p class="footnote">Language preference will be applied to eDelivery notifications.</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-12">
              <div class="card">
                <h3 style="margin-top:0; margin-bottom:12px;">Business Address</h3>
                <div class="grid">
                  <div class="col-12">
                    <label for="address1" class="required">Address Line 1</label>
                    <input id="address1" name="address1" type="text" required placeholder="Street address, P.O. box, company name" />
                    <div class="error" data-error-for="address1">Please enter an address.</div>
                  </div>
                  
                  <div class="col-12">
                    <label for="address2">Address Line 2</label>
                    <input id="address2" name="address2" type="text" placeholder="Apartment, suite, unit, building, floor, etc." />
                  </div>
                  
                  <div class="col-4">
                    <label for="city" class="required">City</label>
                    <input id="city" name="city" type="text" required />
                    <div class="error" data-error-for="city">Please enter a city.</div>
                  </div>
                  
                  <div class="col-4">
                    <label for="state" class="required">State/Province</label>
                    <input id="state" name="state" type="text" required />
                    <div class="error" data-error-for="state">Please enter a state or province.</div>
                  </div>
                  
                  <div class="col-4">
                    <label for="postalCode" class="required">Postal/ZIP Code</label>
                    <input id="postalCode" name="postalCode" type="text" required />
                    <div class="error" data-error-for="postalCode">Please enter a postal code.</div>
                  </div>
                  
                  <div class="col-6">
                    <label for="country" class="required">Country</label>
                    <select id="country" name="country" required>
                      <option value="">Select...</option>
                      <option value="CA">Canada</option>
                      <option value="US">United States</option>
                      <option value="GB">United Kingdom</option>
                      <option value="AU">Australia</option>
                      <option value="FR">France</option>
                      <option value="DE">Germany</option>
                      <option value="JP">Japan</option>
                      <option value="CN">China</option>
                      <option value="other">Other</option>
                    </select>
                    <div class="error" data-error-for="country">Please select a country.</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="controls">
            <button type="button" class="btn secondary" disabled>Back</button>
            <div class="inline">
              <span class="muted">Step 1 of 5</span>
              <button type="button" class="btn" data-next>Continue</button>
            </div>
          </div>
        </section>
      </form>
    </div>

    <p class="footnote">All fields marked with * are required. Your information is securely processed in accordance with BMO's privacy policy.</p>
  </div>

  <script>
    // Simple state store
    const state = {
      step: 1,
      basics: {},
      jurisdiction: null,
      forms: { w9: {}, crs: {} },
      users: []
    };

    const panels = [...document.querySelectorAll('.panel')];
    const crumbs = [...document.querySelectorAll('.crumb')];

    function go(step) {
      state.step = step;
      panels.forEach(p => p.classList.toggle('active', +p.dataset.panel === step));
      crumbs.forEach((c, i) => c.classList.toggle('active', i < step));
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function next() { if (validateCurrent()) go(state.step + 1); }
    function back() { go(Math.max(1, state.step - 1)); }

    // Validation for step 1
    function validateCurrent() {
      const step = state.step;
      let ok = true;

      // reset visible errors
      document.querySelectorAll('.error').forEach(e => e.style.display = 'none');

      if (step === 1) {
        // Basic validation for required fields
        const requiredFields = [
          'entityName', 'entityType', 'incorporationDate', 
          'contactFirstName', 'contactLastName', 'contactTitle', 'contactEmail', 'contactPhone',
          'address1', 'city', 'state', 'postalCode', 'country'
        ];
        
        requiredFields.forEach(field => {
          const el = document.getElementById(field);
          if (!el.value.trim()) {
            showError(field);
            ok = false;
          }
        });
        
        // Email validation
        const email = document.getElementById('contactEmail');
        if (email.value.trim() && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value)) {
          showError('contactEmail');
          ok = false;
        }
        
        // Store data if validation passes
        if (ok) {
          state.basics = {
            entityName: document.getElementById('entityName').value.trim(),
            tradeName: document.getElementById('tradeName').value.trim(),
            entityType: document.getElementById('entityType').value,
            incorporationDate: document.getElementById('incorporationDate').value,
            contactFirstName: document.getElementById('contactFirstName').value.trim(),
            contactLastName: document.getElementById('contactLastName').value.trim(),
            contactTitle: document.getElementById('contactTitle').value.trim(),
            contactEmail: document.getElementById('contactEmail').value.trim(),
            contactPhone: document.getElementById('contactPhone').value.trim(),
            language: document.getElementById('language').value,
            address1: document.getElementById('address1').value.trim(),
            address2: document.getElementById('address2').value.trim(),
            city: document.getElementById('city').value.trim(),
            state: document.getElementById('state').value.trim(),
            postalCode: document.getElementById('postalCode').value.trim(),
            country: document.getElementById('country').value
          };
        }
      }

      return ok;
    }

    function showError(key) {
      const el = document.querySelector(`[data-error-for="${key}"]`);
      if (el) el.style.display = 'block';
    }

    // Wire up nav buttons
    document.querySelectorAll('[data-next]').forEach(b => b.addEventListener('click', next));
    document.querySelectorAll('[data-back]').forEach(b => b.addEventListener('click', back));
  </script>
</body>
</html>
